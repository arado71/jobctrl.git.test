<UserControl xmlns="https://github.com/avaloniaui"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:viewModels="clr-namespace:Tct.ActivityRecorderClient.Avalonia.UI.ViewModels"
			 x:Class="Tct.ActivityRecorderClient.Avalonia.UI.View.TaskItemControl"
			 x:DataType="viewModels:TaskViewModel">

	<Design.DataContext>
	<viewModels:TaskViewModel
	WorkId="123"
	Name="My Favourite Task"
	FolderPath="Dev &#x00BB; Sub Folder &#x00BB;"
	CircleColor = "Green"
	Initials="MF"
	Priority = "800"
	/>
	</Design.DataContext>

	<!--	<Design.DataContext>
	<viewModels:TaskViewModel
	ProjectId="1234"
	Name="My Favourite Project"
	FolderPath="Dev &#x00BB; Sub Folder &#x00BB;"
	CircleColor = "Orange"
	Initials="MP"
	Priority = "800"
	/>
	</Design.DataContext>-->

	<!--	<Design.DataContext>
		<viewModels:TaskViewModel
		Name="My Root"
		FolderPath="Dev &#x00BB; Sub Folder &#x00BB;"
		IconPath= "avares://ActivityRecorderClient.Avalonia/Assets/all_tasks.svg"
		/>
	</Design.DataContext>-->

	<UserControl.Resources>
		<viewModels:IconPathToImageConverter x:Key="IconPathToImage" />
		<viewModels:IsNullConverter x:Key="IsNull" />
		<viewModels:IsNotNullConverter x:Key="IsNotNull" />
	</UserControl.Resources>

	<Grid Name="RootGrid" RowDefinitions="Auto, Auto">
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="Auto" />
			<ColumnDefinition Width="300" />
		</Grid.ColumnDefinitions>

		<Grid Grid.Column="0" Width="50" Height="50" Margin="10,0,10,0">
			<Panel IsVisible="{Binding IconPath, Converter={StaticResource IsNotNull}}">
				<Image x:Name="TaskIcon" Width="40" Height="40" Margin="0,0,0,0" VerticalAlignment="Center"
					   Source="{viewModels:Icon {Binding IconPath}}" />
			</Panel>
			<Panel IsVisible="{Binding IconPath, Converter={StaticResource IsNull}}">
				<Panel IsVisible="{Binding WorkId, Converter={StaticResource IsNotNull}}">
					<Ellipse x:Name="TaskCircle" Width="40" Height="40" Fill="{Binding CircleColor}" />
				</Panel>
				<Panel IsVisible="{Binding WorkId, Converter={StaticResource IsNull}}">
					<Rectangle x:Name="TaskRactangle" Width="40" Height="40" Fill="{Binding CircleColor}" Margin="2,2,2,2" />
				</Panel>
				<TextBlock x:Name="TaskInitials" Text="{Binding Initials}"
						   VerticalAlignment="Center" HorizontalAlignment="Center"
						   Foreground="White" FontSize="20" FontWeight="Bold" />
			</Panel>
		</Grid>

		<Panel Grid.Column="1" Grid.Row="0" IsVisible="{Binding IconPath, Converter={StaticResource IsNotNull}}">
			<TextBlock x:Name="RootTaskName"
					   VerticalAlignment="Center"
					   Text="{Binding Name}"
					   FontSize="16"
					   FontFamily="{StaticResource InterTightFont}"
					   FontWeight="Bold"
					   Padding="0,8,0,0"
					   Margin="10,0,0,10" />
		</Panel>
		<StackPanel Orientation="Vertical" Grid.Column="1" Grid.Row="0" IsVisible="{Binding IconPath, Converter={StaticResource IsNull}}" >
			<TextBlock x:Name="TaskFolder"
					   Text="{Binding FolderPath}"
					   FontSize="14"
					   Foreground="Gray"
					   FontFamily="{StaticResource InterTightFont}"
					   FontWeight="Regular"
					   Margin="10,10,0,0" />
			<TextBlock x:Name="TaskName"
					   Text="{Binding Name}"
					   FontSize="16"
					   FontFamily="{StaticResource InterTightFont}"
					   FontWeight="Bold"
					   Margin="10,0,0,10" />

		</StackPanel>


	</Grid>
</UserControl>
